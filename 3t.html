<html>
    <head>
        <title>RPS</title>
        <meta charset="UTF-8" />
    </head>
    <body>
        <script>
            function computerPlay() {
                let move = Math.floor((Math.random() * 3) + 1);
                return (move == 1)? 'rock'
                : (move == 2)? 'paper'
                : 'scissors'
                ;
            }
            function playRound(pS, cS) {
                var pSi;
                var cSi;
                if(pS.toLowerCase() == 'rock') {
                    pSi = 0;
                } else if(pS.toLowerCase() == 'paper') {
                    pSi = 1;
                } else {pSi = 2;}

                if(cS.toLowerCase() == 'rock') {
                    cSi = 0;
                } else if(cS.toLowerCase() == 'paper') {
                    cSi = 1;
                } else {cSi = 2;}

                if(pSi == (cSi + 1) % 3) {
                    return `You Win! ${pS.toUpperCase()} beats ${cS.toUpperCase()}`;
                } else if(cSi == (pSi +1) % 3) {
                    return `You Lose! ${cS.toUpperCase()} beats ${pS.toUpperCase()}`;
                } else {
                    return `TIE! Both the user and the computer have chosen ${pS.toUpperCase()}`;
                }
            }

            function game() {
                var pMov = prompt("What is your move?", "rock");
                console.log(playRound(pMov, computerPlay()));
            }
        </script>
    </body>
</html>
